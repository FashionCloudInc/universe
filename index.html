<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Universe by crossfilter</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">Universe</h1>
      <h2 class="project-tagline">The fastest way to query and explore multivariate datasets</h2>
      <a href="https://github.com/crossfilter/universe" class="btn">View on GitHub</a>
      <a href="https://github.com/crossfilter/universe/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/crossfilter/universe/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <h1>
<a id="universe" class="anchor" href="#universe" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Universe</h1>

<p><a href="https://gitter.im/crossfilter/universe?utm_source=badge&amp;utm_medium=badge&amp;utm_campaign=pr-badge&amp;utm_content=badge"><img src="https://badges.gitter.im/crossfilter/universe.svg" alt="Join the chat at https://gitter.im/crossfilter/universe"></a></p>

<p><a href="https://travis-ci.org/crossfilter/universe"><img src="https://travis-ci.org/crossfilter/universe.svg?branch=master" alt="Build Status"></a> <a href="https://codeclimate.com/github/crossfilter/universe"><img src="https://codeclimate.com/github/crossfilter/universe/badges/gpa.svg" alt="Code Climate"></a></p>

<h2>
<a id="the-easiest-and-fastest-way-to-explore-your-data" class="anchor" href="#the-easiest-and-fastest-way-to-explore-your-data" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>The easiest and fastest way to explore your data</h2>

<p>Before Universe, exploring and filtering large datasets in javascript meant constant data looping, complicated indxing, and countless lines of code to dissect your data.</p>

<p>With Universe, you can be there in just a few lines of code. You've got better things to do than write intense map-reduce functions or learn the intricate inner-workings of <a href="https://github.com/crossfilter/crossfilter">Crossfilter</a> ;)</p>

<h2>
<a id="features" class="anchor" href="#features" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Features</h2>

<ul>
<li>Simple, yet powerful query syntax</li>
<li>Built on, and tightly integrated with  <a href="https://github.com/crossfilter/crossfilter">Crossfilter</a>, and <a href="https://github.com/crossfilter/reductio">Reductio</a> - the fastest multi-dimensional JS data frameworks available</li>
<li>Real-time updates to query results as you filter</li>
<li>Flexible filtering system</li>
<li>Automatic and invisible management of data indexing and memory</li>
</ul>

<h2>
<a id="demos" class="anchor" href="#demos" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Demos</h2>

<ul>
<li>
<a href="http://codepen.io/tannerlinsley/pen/oxjyvg?editors=0010">Basic Usage</a> (Codepen)</li>
</ul>

<h2>
<a id="api" class="anchor" href="#api" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a><a href="#api">API</a>
</h2>

<ul>
<li>
<a href="#api-universe">universe()</a>

<ul>
<li><a href="#api-query">.query()</a></li>
<li><a href="#api-filter">.filter()</a></li>
<li><a href="#api-column">.column()</a></li>
<li><a href="#api-clear">.clear()</a></li>
<li><a href="#api-add">.add()</a></li>
<li><a href="#api-remove">.remove()</a></li>
</ul>
</li>
</ul>

<h2>
<a id="getting-started" class="anchor" href="#getting-started" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Getting Started</h2>

<h3>
<a id="installation" class="anchor" href="#installation" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Installation</h3>

<p><strong>NPM</strong></p>

<div class="highlight highlight-source-shell"><pre>npm install crossfilter/universe --save

<span class="pl-c"># the "universe" npm module name is still under negotiation. Stay tuned.</span></pre></div>

<p><strong>Download</strong> from the <a href="https://github.com/crossfilter/universe/releases">releases</a> page. Serve the universe.js or universe.min.js file in the top-level directory as part of your application.</p>

<h3>
<a id="create-a-new-universe" class="anchor" href="#create-a-new-universe" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Create a new Universe</h3>

<p>Pass <code>universe</code> an array of objects or a Crossfilter instance:</p>

<div class="highlight highlight-source-js"><pre>
<span class="pl-k">var</span> universe <span class="pl-k">=</span> <span class="pl-c1">require</span>(<span class="pl-s"><span class="pl-pds">'</span>universe<span class="pl-pds">'</span></span>)

<span class="pl-k">var</span> myUniverse <span class="pl-k">=</span> <span class="pl-en">universe</span>([
    {date<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>2011-11-14T16:17:54Z<span class="pl-pds">"</span></span>, quantity<span class="pl-k">:</span> <span class="pl-c1">2</span>, total<span class="pl-k">:</span> <span class="pl-c1">190</span>, tip<span class="pl-k">:</span> <span class="pl-c1">100</span>, type<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>tab<span class="pl-pds">"</span></span>, productIDs<span class="pl-k">:</span> [<span class="pl-s"><span class="pl-pds">"</span>001<span class="pl-pds">"</span></span>]},
    {date<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>2011-11-14T16:20:19Z<span class="pl-pds">"</span></span>, quantity<span class="pl-k">:</span> <span class="pl-c1">2</span>, total<span class="pl-k">:</span> <span class="pl-c1">190</span>, tip<span class="pl-k">:</span> <span class="pl-c1">100</span>, type<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>tab<span class="pl-pds">"</span></span>, productIDs<span class="pl-k">:</span> [<span class="pl-s"><span class="pl-pds">"</span>001<span class="pl-pds">"</span></span>,  <span class="pl-s"><span class="pl-pds">"</span>005<span class="pl-pds">"</span></span>]},
    {date<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>2011-11-14T16:28:54Z<span class="pl-pds">"</span></span>, quantity<span class="pl-k">:</span> <span class="pl-c1">1</span>, total<span class="pl-k">:</span> <span class="pl-c1">300</span>, tip<span class="pl-k">:</span> <span class="pl-c1">200</span>, type<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>visa<span class="pl-pds">"</span></span>, productIDs<span class="pl-k">:</span> [<span class="pl-s"><span class="pl-pds">"</span>004<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>005<span class="pl-pds">"</span></span>]},
    <span class="pl-k">...</span>
  ])
  .<span class="pl-en">then</span>(<span class="pl-k">function</span>(<span class="pl-smi">myUniverse</span>){
    <span class="pl-c">// And now you're ready to query! :)</span>
    <span class="pl-k">return</span> myUniverse
  })</pre></div>

<h3>
<a id="query-your-data" class="anchor" href="#query-your-data" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Query your data</h3>

<div class="highlight highlight-source-js"><pre>
.<span class="pl-en">then</span>(<span class="pl-k">function</span>(<span class="pl-smi">myUniverse</span>){
  <span class="pl-smi">myUniverse</span>.<span class="pl-en">query</span>({
    groupBy<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>type<span class="pl-pds">'</span></span> <span class="pl-c">// GroupBy the type key</span>
    columns<span class="pl-k">:</span> {
      $count<span class="pl-k">:</span> <span class="pl-c1">true</span>, <span class="pl-c">// Count the number of records</span>
      quantity<span class="pl-k">:</span> { <span class="pl-c">// Create a custom 'quantity' column</span>
        $sum<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>quantity<span class="pl-pds">'</span></span> <span class="pl-c">// Sum the quantity column</span>
      },
    },
    <span class="pl-c">// Limit selection to rows where quantity is greater than 50</span>
    filter<span class="pl-k">:</span> {
      quantity<span class="pl-k">:</span> {
        $gt<span class="pl-k">:</span> <span class="pl-c1">50</span>
      }
    },
  })
})</pre></div>

<h3>
<a id="use-your-data" class="anchor" href="#use-your-data" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Use your data</h3>

<div class="highlight highlight-source-js"><pre>.<span class="pl-en">then</span>(<span class="pl-k">function</span>(<span class="pl-smi">res</span>) {
  <span class="pl-c">// Use your data for tables, charts, data visualiztion, etc.</span>
  <span class="pl-smi">res</span>.<span class="pl-c1">data</span> <span class="pl-k">===</span> [
    {<span class="pl-s"><span class="pl-pds">"</span>key<span class="pl-pds">"</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>cash<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>value<span class="pl-pds">"</span></span><span class="pl-k">:</span> {<span class="pl-s"><span class="pl-pds">"</span>count<span class="pl-pds">"</span></span><span class="pl-k">:</span> <span class="pl-c1">2</span>,<span class="pl-s"><span class="pl-pds">"</span>quantity<span class="pl-pds">"</span></span><span class="pl-k">:</span> {<span class="pl-s"><span class="pl-pds">"</span>sum<span class="pl-pds">"</span></span><span class="pl-k">:</span> <span class="pl-c1">3</span>}}},
    {<span class="pl-s"><span class="pl-pds">"</span>key<span class="pl-pds">"</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>tab<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>value<span class="pl-pds">"</span></span><span class="pl-k">:</span> {<span class="pl-s"><span class="pl-pds">"</span>count<span class="pl-pds">"</span></span><span class="pl-k">:</span> <span class="pl-c1">8</span>,<span class="pl-s"><span class="pl-pds">"</span>quantity<span class="pl-pds">"</span></span><span class="pl-k">:</span> {<span class="pl-s"><span class="pl-pds">"</span>sum<span class="pl-pds">"</span></span><span class="pl-k">:</span> <span class="pl-c1">16</span>}}},
    {<span class="pl-s"><span class="pl-pds">"</span>key<span class="pl-pds">"</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>visa<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>value<span class="pl-pds">"</span></span><span class="pl-k">:</span> {<span class="pl-s"><span class="pl-pds">"</span>count<span class="pl-pds">"</span></span><span class="pl-k">:</span> <span class="pl-c1">2</span>,<span class="pl-s"><span class="pl-pds">"</span>quantity<span class="pl-pds">"</span></span><span class="pl-k">:</span> {<span class="pl-s"><span class="pl-pds">"</span>sum<span class="pl-pds">"</span></span><span class="pl-k">:</span> <span class="pl-c1">2</span>}}}
  ]

  <span class="pl-c">// Or plost the data in DC.js using the underlying crossfilter dimension and group</span>
  <span class="pl-smi">dc</span>.<span class="pl-en">pieChart</span>(<span class="pl-s"><span class="pl-pds">'</span>#chart<span class="pl-pds">'</span></span>)
    .<span class="pl-en">dimension</span>(<span class="pl-smi">res</span>.<span class="pl-smi">dimension</span>)
    .<span class="pl-en">group</span>(<span class="pl-smi">res</span>.<span class="pl-smi">group</span>)

  <span class="pl-c">// Pass the query's universe instance to keep chaining</span>
  <span class="pl-k">return</span> <span class="pl-smi">res</span>.<span class="pl-smi">universe</span>
})</pre></div>

<h3>
<a id="explore-your-data" class="anchor" href="#explore-your-data" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Explore your data</h3>

<p>As you filter your data on the universe level, every query's result is updated in real-time to reflect changes in aggregation</p>

<div class="highlight highlight-source-js"><pre><span class="pl-c">// Filter records where 'type' === 'visa'</span>
.<span class="pl-en">then</span>(<span class="pl-k">function</span>(<span class="pl-smi">myUniverse</span>) {
  <span class="pl-k">return</span> <span class="pl-smi">myUniverse</span>.<span class="pl-en">filter</span>(<span class="pl-s"><span class="pl-pds">'</span>type<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>visa<span class="pl-pds">'</span></span>)
})

<span class="pl-c">// Filter records where 'type' === 'visa' or 'tab'</span>
.<span class="pl-en">then</span>(<span class="pl-k">function</span>(<span class="pl-smi">myUniverse</span>) {
  <span class="pl-k">return</span> <span class="pl-smi">myUniverse</span>.<span class="pl-en">filter</span>(<span class="pl-s"><span class="pl-pds">'</span>type<span class="pl-pds">'</span></span>, [<span class="pl-s"><span class="pl-pds">'</span>visa<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>tab<span class="pl-pds">'</span></span>])
})

<span class="pl-c">// Filter records where 'total' is between 50 and 100</span>
.<span class="pl-en">then</span>(<span class="pl-k">function</span>(<span class="pl-smi">myUniverse</span>) {
  <span class="pl-k">return</span> <span class="pl-smi">myUniverse</span>.<span class="pl-en">filter</span>(<span class="pl-s"><span class="pl-pds">'</span>total<span class="pl-pds">'</span></span>, [<span class="pl-c1">50</span>, <span class="pl-c1">10</span>], <span class="pl-c1">true</span>)
})

<span class="pl-c">// Filter records using an expressive and JSON friendly query syntax</span>
.<span class="pl-en">then</span>(<span class="pl-k">function</span>(<span class="pl-smi">myUniverse</span>) {
  <span class="pl-k">return</span> <span class="pl-smi">myUniverse</span>.<span class="pl-en">filter</span>(<span class="pl-s"><span class="pl-pds">'</span>total<span class="pl-pds">'</span></span>, {
    $lt<span class="pl-k">:</span> { <span class="pl-c">// Filter to results where total is less than</span>
      <span class="pl-s"><span class="pl-pds">'</span>$get(total)<span class="pl-pds">'</span></span><span class="pl-k">:</span> { <span class="pl-c">// the "total" property from</span>
        <span class="pl-s"><span class="pl-pds">'</span>$nthLast(3)<span class="pl-pds">'</span></span><span class="pl-k">:</span> { <span class="pl-c">// the 3rd to the last row from</span>
          $column<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>date<span class="pl-pds">'</span></span> <span class="pl-c">// the dataset sorted by the date column</span>
        }
      }
    }
  })
})

<span class="pl-c">// Or if you're feeling powerful, just write your own custom filter function</span>
.<span class="pl-en">then</span>(<span class="pl-k">function</span>(<span class="pl-smi">myUniverse</span>){
  <span class="pl-k">return</span> <span class="pl-smi">myUniverse</span>.<span class="pl-en">filter</span>({
    <span class="pl-en">total</span><span class="pl-k">:</span> <span class="pl-k">function</span>(<span class="pl-smi">row</span>){
      <span class="pl-k">return</span> (<span class="pl-smi">row</span>.<span class="pl-smi">quantity</span> <span class="pl-k">*</span> <span class="pl-smi">row</span>.<span class="pl-smi">sum</span>) <span class="pl-k">&gt;</span> <span class="pl-c1">50</span>
    }
  })
})

<span class="pl-c">// Clear the filters for the 'type' column</span>
.<span class="pl-en">then</span>(<span class="pl-k">function</span>(<span class="pl-smi">myUniverse</span>){
  <span class="pl-k">return</span> <span class="pl-smi">myUniverse</span>.<span class="pl-en">filter</span>(<span class="pl-s"><span class="pl-pds">'</span>type<span class="pl-pds">'</span></span>)
})

<span class="pl-c">// Clear all of the filters</span>
.<span class="pl-en">then</span>(<span class="pl-k">function</span>(<span class="pl-smi">myUniverse</span>){
  <span class="pl-k">return</span> <span class="pl-smi">myUniverse</span>.<span class="pl-en">filterAll</span>()
})</pre></div>

<h3>
<a id="clean-up" class="anchor" href="#clean-up" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Clean Up</h3>

<div class="highlight highlight-source-js"><pre>
<span class="pl-c">// Remove a column index</span>
.<span class="pl-en">then</span>(<span class="pl-k">function</span>(<span class="pl-smi">myUniverse</span>){
  <span class="pl-k">return</span> <span class="pl-smi">myUniverse</span>.<span class="pl-c1">clear</span>(<span class="pl-s"><span class="pl-pds">'</span>total<span class="pl-pds">'</span></span>)
})

<span class="pl-c">// Remove all columns</span>
.<span class="pl-en">then</span>(<span class="pl-k">function</span>(<span class="pl-smi">myUniverse</span>){
  <span class="pl-k">return</span> <span class="pl-smi">myUniverse</span>.<span class="pl-c1">clear</span>()
})
</pre></div>

<h3>
<a id="pre-compile-columns" class="anchor" href="#pre-compile-columns" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Pre-compile Columns</h3>

<p>Pro-Tip: You can also <strong>pre-compile</strong> column indices before querying. Otherwise, ad-hoc indices are created and managed automagically for you anyway.</p>

<div class="highlight highlight-source-js"><pre>.<span class="pl-en">then</span>(<span class="pl-k">function</span>(<span class="pl-smi">myUniverse</span>){
  <span class="pl-k">return</span> <span class="pl-smi">myUniverse</span>.<span class="pl-en">column</span>(<span class="pl-s"><span class="pl-pds">'</span>a<span class="pl-pds">'</span></span>)
  <span class="pl-k">return</span> <span class="pl-smi">myUniverse</span>.<span class="pl-en">column</span>([<span class="pl-s"><span class="pl-pds">'</span>a<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>b<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>c<span class="pl-pds">'</span></span>])
  <span class="pl-k">return</span> <span class="pl-smi">myUniverse</span>.<span class="pl-en">column</span>({
    key<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>d<span class="pl-pds">'</span></span>,
    type<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>string<span class="pl-pds">'</span></span> <span class="pl-c">// override automatic type detection</span>
  })
})</pre></div>

<h2 id="api">
<a id="api-" class="anchor" href="#api-" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>API <a href="#api">#</a>
</h2>

<h3 id="api-universe">
<a id="universe-data--config--" class="anchor" href="#universe-data--config--" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>universe( [data] , {config} ) <a href="#api-universe">#</a>
</h3>

<ul>
<li>Description

<ul>
<li>Creates a new universe instance</li>
</ul>
</li>
<li>Parameters

<ul>
<li>
<code>[data]</code> - An array of objects</li>
<li>
<code>{config}</code> - Optional configurations for this Universe instance

<ul>
<li>
<code>{generatedColumns}</code> - An object of keys and their respective accessor functions used to dynamically generate columns.</li>
</ul>
</li>
</ul>
</li>
<li><p>Returns a <code>promise</code> that is resolved with the <strong>universe instance</strong></p></li>
<li>
<p><a href="Create%20a%20new%20Universe">Example</a></p>

<ul>
<li>Generated Columns Example
<code>javascript
universe([
  {day: '1', price: 30, quantity: 3},
  {day: '2', price: 40, quantity: 5}
], {
  generatedColumns: {
    total: function(row){return row.price * row.quantity}
  }
})
  .then(function(myUniverse){
    // data[0].total === 90
    // data[1].total === 200
  })
</code>
</li>
</ul>
</li>
</ul>

<h3 id="api-query">
<a id="query-queryobject--" class="anchor" href="#query-queryobject--" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>.query( {queryObject} ) <a href="#api-query">#</a>
</h3>

<ul>
<li>Description

<ul>
<li>Creates a new query from a universe instance</li>
</ul>
</li>
<li>Parameters

<ul>
<li>
<code>queryObject</code>:

<ul>
<li>
<code>groupBy</code> - Exactly what it sounds like.  It groups the records by this column key</li>
<li>
<code>select</code> - An object of column aggregations and/or column names

<ul>
<li>
<code>$aggregation</code> - Aggregations are prefixed with a <code>$</code>
</li>
<li>
<code>columnName</code> - Creates a nested column with the name provided</li>
</ul>
</li>
<li>
<code>filter</code> - A filter object that is applied to the query (similar to a <code>where</code> clause in mySQL)</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Returns</p>

<ul>
<li>
<code>promise</code>, resolved with a <strong>query results object</strong>

<ul>
<li>
<code>data</code> - The result of the query</li>
<li>
<code>group</code> - The crossfilter/reductio group used to build the query</li>
<li>
<code>dimension</code> - The crossfilter dimension used to build the query</li>
<li>
<code>crossfilter</code> - The crossfilter that runs this universe</li>
<li>
<code>universe</code> - The current instance of the universe.  Return this to keep chaining via promises</li>
</ul>
</li>
</ul>
</li>
<li><p><a href="#Explore%20your%20data">Example</a></p></li>
</ul>

<h3 id="api-filter">
<a id="filter-columnkey-filterobject-isarray-replace--" class="anchor" href="#filter-columnkey-filterobject-isarray-replace--" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>.filter( columnKey, filterObject, isArray, replace ) <a href="#api-filter">#</a>
</h3>

<ul>
<li>Description

<ul>
<li>Filters everything in the universe to only include rows that match certain conditions.  Queries automatically and instantaneously update their values and aggregations.</li>
</ul>
</li>
<li>Parameters

<ul>
<li>
<code>columnKey</code> - The object property to filter on,</li>
</ul>
</li>
<li>
<p>Returns</p>

<ul>
<li>
<code>promise</code> resolved with

<ul>
<li><strong>universe instance</strong></li>
</ul>
</li>
</ul>
</li>
<li><p><a href="#Query%20your%20data">Example</a></p></li>
</ul>

<h3 id="api-column">
<a id="column-columnkeycolumnobject--" class="anchor" href="#column-columnkeycolumnobject--" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>.column( columnKey/columnObject ) <a href="#api-column">#</a>
</h3>

<ul>
<li>Description

<ul>
<li>Use to optionally pre-index a column. Accepts a string or number corresponding to the key or index of the column you would like to define.</li>
</ul>
</li>
<li>Parameters

<ul>
<li>
<code>columnKey</code> - the column property or array index you would like to pre-compile eg.</li>
</ul>

<div class="highlight highlight-source-js"><pre>  .<span class="pl-en">column</span>(<span class="pl-s"><span class="pl-pds">'</span>total<span class="pl-pds">'</span></span>)</pre></div>

<ul>
<li>
<code>columnObject</code> allows you to override the column type, otherwise it is calculated automatically:</li>
</ul>

<div class="highlight highlight-source-js"><pre>    .<span class="pl-en">column</span>({
      key<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>total<span class="pl-pds">'</span></span>,
      type<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>number<span class="pl-pds">'</span></span>
    })</pre></div>
</li>
<li>
<p>Returns</p>

<ul>
<li>
<code>promise</code> resolved with

<ul>
<li><strong>universe instance</strong></li>
</ul>
</li>
</ul>
</li>
<li><p><a href="#Pre-compile%20Columns">Example</a></p></li>
</ul>

<h3 id="api-clear">
<a id="clear-columnkeycolumnobjectcolumnkeyscolumnobjects--" class="anchor" href="#clear-columnkeycolumnobjectcolumnkeyscolumnobjects--" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>.clear( columnKey/columnObject/[columnKeys/columnObjects] ) <a href="#api-clear">#</a>
</h3>

<ul>
<li>Description

<ul>
<li>Clears individual or all column defenitions and indexes</li>
</ul>
</li>
<li>Parameters

<ul>
<li>
<code>columnKey</code> - the column property or array of columns you would like to clear eg.</li>
</ul>

<div class="highlight highlight-source-js"><pre>  <span class="pl-c">// Single Key</span>
  .<span class="pl-c1">clear</span>(<span class="pl-s"><span class="pl-pds">'</span>total<span class="pl-pds">'</span></span>)
  <span class="pl-c">// Complex Key</span>
  .<span class="pl-c1">clear</span>({key<span class="pl-k">:</span> [<span class="pl-s"><span class="pl-pds">'</span>complex<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>key<span class="pl-pds">'</span></span>]})
  <span class="pl-c">// Multiple Single Keys</span>
  .<span class="pl-c1">clear</span>([<span class="pl-s"><span class="pl-pds">'</span>total<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>quantity<span class="pl-pds">'</span></span>])
  <span class="pl-c">// Multiple Complex Keys</span>
  .<span class="pl-c1">clear</span>([{key<span class="pl-k">:</span> [<span class="pl-s"><span class="pl-pds">'</span>complex<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>key<span class="pl-pds">'</span></span>]}, {key<span class="pl-k">:</span> [<span class="pl-s"><span class="pl-pds">'</span>another<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>one<span class="pl-pds">'</span></span>]}])</pre></div>
</li>
<li>
<p>Returns</p>

<ul>
<li>
<code>promise</code> resolved with

<ul>
<li><strong>universe instance</strong></li>
</ul>
</li>
</ul>
</li>
<li><p><a href="#Clean%20Up">Example</a></p></li>
</ul>

<h3 id="api-add">
<a id="add-data--" class="anchor" href="#add-data--" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>.add( [data] ) <a href="#api-add">#</a>
</h3>

<ul>
<li>Description

<ul>
<li>Adds additional data to a universe instance. This data will be indexed, aggregated and queries/filters immediately updated when added.</li>
</ul>
</li>
<li>Parameters

<ul>
<li>
<code>[data]</code> - An new array of objects similar to the original dataset</li>
</ul>
</li>
<li>Returns

<ul>
<li>
<code>promise</code> resolved with

<ul>
<li><strong>universe instance</strong></li>
</ul>
</li>
</ul>
</li>
</ul>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/crossfilter/universe">Universe</a> is maintained by <a href="https://github.com/crossfilter">crossfilter</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>
